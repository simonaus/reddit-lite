{"version":3,"sources":["features/Header.js","features/subredditlist/SubredditTitle.js","features/subredditlist/SubredditList.js","features/newsfeed/PostTitle.js","features/SearchBar.js","features/newsfeed/NewsFeed.js","features/newsfeed/Subreddit.js","features/newsfeed/SubredditSubscriber.js","features/postdetail/Comment.js","features/postdetail/PostDetail.js","features/newsfeed/newsFeedSlice.js","features/newsfeed/subredditSubscriberSlice.js","features/subredditlist/subredditListSlice.js","features/postdetail/postDetailSlice.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["Header","dispatch","useDispatch","className","to","onClick","type","payload","src","SubredditTitle","displayName","urlName","SubredditList","state","useSelector","subredditList","isToggle","subreddits","map","subreddit","PostTitle","title","subredditName","votes","image","postTitleClass","permalink","postDetail","url","sessionStorage","setItem","loadImage","SearchBar","placeholder","location","useState","value","setValue","onSubmit","e","preventDefault","newsFeed","onChange","target","NewsFeed","fetchNewsFeed","a","query","window","scrollTo","isSearching","fetch","response","alert","json","responseJSON","posts","data","children","after","before","counter","post","subreddit_name_prefixed","preview","score","id","images","resolutions","length","source","replaceAll","useEffect","handleClickAfter","isLoading","pageNumber","handleClickBefore","activeSubreddit","postTitle","Subreddit","name","numOfSubscribers","subredditClass","hasSubscribed","key","SubredditSubscriber","subredditSubscriber","fetchSubreddits","searchQuery","display_name_prefixed","subscribers","Comment","body","commentLevel","user","replies","hidden","hiddenChildren","setHiddenChildren","repliesToggle","widthPercent","marginLeft","marginTop","commentContainerClass","undefined","style","width","comment","PostDetail","loadPost","getItem","postData","author","selftext","post_hint","url_overridden_by_dest","link","commentData","reduceCommentsArray","commentsArray","commentObject","filteredRepliesArray","filter","item","kind","repliesArray","href","comments","newsFeedSlice","createSlice","initialState","searchTerm","reducers","loadPosts","action","changePageNumber","changeIsLoading","updateUrl","changeIsSearching","changeActiveSubreddit","toggle","toggleOff","clearPosts","actions","subredditSubscriberSlice","loadSubreddits","changeSearchQuery","subredditListSlice","addSubreddit","push","removeSubreddit","postDetailSlice","loadComments","resetSlice","configureStore","reducer","newsFeedReducer","subredditSubscriberReducer","subredditListReducer","postDetailReducer","App","store","getState","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b79f85ba.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nexport const Header = () => {\n\n  const dispatch = useDispatch()\n\n  const handleHomepageClick = () => {\n  // if search mode is toggled on, toggle off, this will remove search parameter from url\n  dispatch({\n    type: 'newsFeed/changeIsSearching',\n    payload: false,\n  })\n\n  dispatch({\n    type: 'newsFeed/updateUrl',\n    payload: 'https://www.reddit.com/'\n  })\n\n  dispatch({\n    type: 'newsFeed/changeActiveSubreddit',\n    payload: 'Homepage',\n  })\n  }\n\n  const handleSubscriberClick = () => {\n    // if search mode is toggled on, toggle off, this will remove search parameter from url\n    dispatch({\n      type: 'newsFeed/clearPosts',\n      payload: [],\n    })\n\n    }\n\n\n\n  return (\n    <div className='Header'>\n\n      <Link to='/' onClick={handleHomepageClick} className='icon'>\n        <img src=\"iconfinder_feather_2561433icon.png\" />\n        <p className=\"iconTitle\">reddit-lite</p>\n      </Link>\n      <div className=\"nav\">\n        <Link className=\"anchor\" to='/'>\n          <h2 className=\"link\">Homepage</h2>\n        </Link>\n        <Link onClick={handleSubscriberClick} className=\"anchor\" to='/subredditsubscriber'>\n          <h2 className=\"link\">Subreddit Subscriber</h2>\n        </Link>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nexport const SubredditTitle = ({displayName, urlName}) => {\n\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n\n    // if search mode is toggled on, toggle off, this will remove search parameter from url\n    dispatch({\n      type: 'newsFeed/changeIsSearching',\n      payload: false,\n    })\n\n    dispatch({\n      type: 'newsFeed/updateUrl',\n      payload: 'https://www.reddit.com/' + urlName\n    })\n\n    dispatch({\n      type: 'newsFeed/changeActiveSubreddit',\n      payload: displayName,\n    })\n\n  }\n\n  return <Link className=\"anchor\" to='/'>\n           <p onClick={handleClick} className=\"SubredditTitle\">{displayName}</p>\n         </Link>\n}","import React from 'react';\nimport { SubredditTitle } from './SubredditTitle';\nimport { useSelector } from 'react-redux';\n\nexport const SubredditList = () => {\n\n  const state = useSelector( state => state.subredditList)\n  return(\n    <div className={(state.isToggle) ? \"SubredditList\" : \"SubredditList toggleOff\"}>\n      <p className='subredditListTitle'>Check out these subreddits</p>\n      {state.subreddits.map( subreddit => {\n        return <SubredditTitle key={subreddit.displayName}\n                               displayName={subreddit.displayName}\n                               urlName={subreddit.urlName}\n                               />\n      })}\n      <p className=\"addSubreddit\">Or add your own using the subreddit subscriber</p>\n    </div>\n  )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nexport const PostTitle = ({title, subredditName, votes, image, postTitleClass, permalink}) => {\n\n  const state = useSelector( state => state.postDetail);\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n\n    const url = 'https://www.reddit.com' + permalink + '.json';\n\n    sessionStorage.setItem('url', url);\n\n    dispatch({\n      type: 'postDetail/updateUrl',\n      payload: url,\n    })\n\n    dispatch({\n      type: 'newsFeed/clearPosts',\n      payload: [],\n    })\n  }\n\n  // only loads image if it is included in post\n  const loadImage = () => {\n    if (image) {\n      return <img src={image} />\n    }\n  }\n\n  return (\n\n      <div onClick={handleClick} className={postTitleClass}>\n        <Link to='/postdetail'>\n          <p className=\"subreddit\">{subredditName}</p>\n          <h3>{title}</h3>\n          <div>\n            {loadImage()}\n          </div>\n          <p className=\"votes\" >Votes: {votes}</p>\n        </Link>\n      </div>\n\n  )\n}","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\nexport const SearchBar = ({ placeholder, location }) => {\n\n  const [value, setValue] = useState('');\n  const dispatch = useDispatch();\n  const state = useSelector( state => state)\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n\n    e.preventDefault();\n\n    if (!value) {\n      return;\n    }\n\n    // turn toggle off to avoid window view reset jumping updwards\n    dispatch({\n      type: 'subredditList/toggleOff',\n    });\n    dispatch({\n      type: 'newsFeed/toggleOff',\n    });\n    dispatch({\n      type: 'subredditSubscriber/toggleOff',\n    });\n\n\n    dispatch({\n      type: 'newsFeed/changeIsSearching',\n      payload: true,\n    })\n\n    if (location === 'subredditSubscriber') {\n\n      dispatch({\n        type: 'subredditSubscriber/changeSearchQuery',\n        payload: value,\n      })\n\n    } else {\n\n      dispatch({\n        type: 'newsFeed/updateUrl',\n        payload: state.newsFeed.url + '/search/.json?restrict_sr=1&q=' + value,\n      })\n\n    }\n\n    setValue('');\n\n\n  }\n\n  return <form onSubmit={handleSubmit} className=\"SearchBar\">\n           <input value={value} placeholder={placeholder} onChange={handleChange}></input>\n           <button type=\"submit\" >Search</button>\n         </form>\n\n}","import React, { useEffect } from 'react';\nimport { PostTitle } from './PostTitle';\nimport { SearchBar } from '../SearchBar';\nimport { useSelector, useDispatch } from 'react-redux';\n\nexport const NewsFeed = () => {\n\n  //subscribe to store and obtain relevant slice\n  let state = useSelector( state => state.newsFeed)\n  const dispatch= useDispatch();\n\n  //fetch newsfeed data from reddit. get from either homepage or selected subreddit\n  const fetchNewsFeed = async (query = '') => {\n\n    try {\n\n    window.scrollTo(0, 0);\n\n    dispatch({\n      type: 'newsFeed/changeIsLoading',\n      payload: true,\n    })\n\n    if (!state.isSearching) {\n      query = '/.json' + query\n    }\n\n    let response;\n\n    try {\n      response = await fetch(state.url + query);\n    } catch {\n      dispatch({\n        type: 'newsFeed/changeIsLoading',\n        payload: false,\n      })\n      alert('Error: Unable to access reddit servers using URL provided');\n      return;\n    }\n\n    const responseJSON = await response.json();\n\n    // access array of posts\n    const posts = responseJSON.data.children\n\n    // initialise payload for newsFeed/loadPosts action\n    const payload = {posts: [], after: '', before: ''};\n\n    payload.before = responseJSON.data.before;\n    payload.after = responseJSON.data.after;\n\n\n    let counter = 0;\n\n    // interate through array of posts and add to payload object\n    for (let post of posts) {\n      payload.posts[counter] = {\n        title: post.data.title,\n        subredditName: post.data.subreddit_name_prefixed,\n        image: post.data.preview,\n        votes: post.data.score,\n        id: post.data.id,\n        permalink: post.data.permalink,\n      }\n      if (post.data.preview) {\n        if (post.data.preview.images[0].resolutions.length === 0) {\n          payload.posts[counter].image = post.data.preview.images[0].source.url.replaceAll('&amp;', '&');\n        } else {\n          payload.posts[counter].image = post.data.preview.images[0].resolutions[post.data.preview.images[0].resolutions.length - 1].url.replaceAll('&amp;', '&');\n        }\n        }\n        counter++;\n    }\n\n    dispatch({\n      type: 'newsFeed/changeIsLoading',\n      payload: false,\n    })\n\n    // dispatch action to reload\n    dispatch({\n      type: 'newsFeed/loadPosts',\n      payload: payload,\n    });\n\n    } catch {\n      dispatch({\n        type: 'newsFeed/changeIsLoading',\n        payload: false,\n      })\n      alert('Error: Unable to read data from reddit servers')\n    }\n\n  }\n\n  //only load newsfeed on mount or if active subreddit has changed\n  useEffect(() => {\n    fetchNewsFeed();\n    dispatch({\n      type: 'newsFeed/changePageNumber',\n      payload: 1,\n    });\n  }, [state.url]);\n\n  const handleClickAfter = () => {\n    if (state.isLoading) {\n      return;\n    }\n    //state of query is & or ? depending on whether url alredy contains search query\n    const isSearching = (state.isSearching) ? '&' : '?'\n    fetchNewsFeed(isSearching + 'after=' + state.after + '&count=' + (state.pageNumber * 25));\n    dispatch({\n      type: 'newsFeed/changePageNumber',\n      payload: state.pageNumber + 1,\n    });\n  }\n\n  const handleClickBefore = () => {\n    if (state.isLoading) {\n      return;\n    }\n    //state of query is & or ? depending on whether url alredy contains search query\n    const isSearching = (state.isSearching) ? '&' : '?'\n    fetchNewsFeed(isSearching + 'before=' + state.before + '&count=' + ((state.pageNumber - 1)  * 25));\n\n    dispatch({\n      type: 'newsFeed/changePageNumber',\n      payload: state.pageNumber - 1,\n    });\n  }\n\n  return(\n    <div className={(state.isToggle) ? \"NewsFeed toggleOn\" : \"NewsFeed\"}>\n      <h1>{state.activeSubreddit}</h1>\n      <SearchBar className=\"SearchBar\" location=\"newsFeed\" placeholder={\"Search the \" + state.activeSubreddit + \" Newsfeed\"} />\n      <div className={(!state.posts.length) ? 'hidden' : 'page'}>\n      {(state.pageNumber !== 1) ? <button type=\"button\" onClick={handleClickBefore} >&#60;</button> : <p></p>}\n        <p>Page {state.pageNumber}</p>\n        <button type=\"button\" className={(state.after) ? '' : 'hidden'} onClick={handleClickAfter} >&#62;</button>\n      </div>\n      {state.posts.map((postTitle) => {\n        return <PostTitle className=\"PostTitle\"\n                          key={postTitle.id}\n                          permalink={postTitle.permalink}\n                          title={postTitle.title}\n                          subredditName={postTitle.subredditName}\n                          image={postTitle.image}\n                          votes={postTitle.votes}\n                          postTitleClass={(state.isLoading) ? 'hidden' : 'PostTitle'} />\n      })}\n      <div className={(state.isLoading || !state.posts.length) ? 'hidden' : 'page'}>\n      {(state.pageNumber !== 1) ? <button type=\"button\" onClick={handleClickBefore} >&#60;</button> : <p></p>}\n        <p className={(state.posts.length < 5) ? 'hidden' : ''}>Page {state.pageNumber}</p>\n        <button type=\"button\" className={(state.after) ? '' : 'hidden'} onClick={handleClickAfter} >&#62;</button>\n      </div>\n      <p className={(!state.isLoading) ? 'hidden' : 'loading'}>Loading...</p>\n      <p className={(!state.posts.length && !state.isLoading) ? 'loading' : 'hidden'}>No results found</p>\n    </div>\n  )\n}","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nexport const Subreddit = ({name, numOfSubscribers, subredditClass}) => {\n\n  const state = useSelector(state => state.subredditList);\n  const dispatch = useDispatch();\n\n  let hasSubscribed = false;\n\n  // check if this subreddit is already on subreddit list\n  for (let subreddit of state.subreddits) {\n    if (subreddit.urlName === name) {\n      hasSubscribed = true;\n    }\n  }\n\n  const handleAddClick = () => {\n    if (hasSubscribed) {\n      dispatch({\n        type: 'subredditList/removeSubreddit',\n        payload: name,\n      });\n    } else {\n      dispatch({\n        type: 'subredditList/addSubreddit',\n        payload: {urlName: name, displayName: name, key: name}\n      });\n    }\n  }\n\n  const handleClick = () => {\n\n    // if search mode is toggled on, toggle off, this will remove search parameter from url\n    dispatch({\n      type: 'newsFeed/changeIsSearching',\n      payload: false,\n    })\n\n    dispatch({\n      type: 'newsFeed/updateUrl',\n      payload: 'https://www.reddit.com/' + name\n    })\n\n    dispatch({\n      type: 'newsFeed/changeActiveSubreddit',\n      payload: name,\n    })\n\n  }\n\n  return (\n\n      <div className={subredditClass}>\n      <Link className={'subredditLink'} to='/'>\n        <div onClick={handleClick} className='subredditDetail'>\n          <h3>{name}</h3>\n          <p className=\"numOfSubscribers\" >Total subscribers: {numOfSubscribers}</p>\n        </div>\n        </Link>\n        <p className={(hasSubscribed) ? 'remove pointerMouse' : 'add pointerMouse'} onClick={handleAddClick} >{(hasSubscribed) ? '-' : '+'}</p>\n      </div>\n\n  )\n}","import React, { useEffect } from 'react';\nimport { Subreddit } from './Subreddit';\nimport { SearchBar } from '../SearchBar';\nimport { useSelector, useDispatch } from 'react-redux';\n\nexport const SubredditSubscriber = () => {\n\n  //subscribe to store and obtain relevant slice\n  let state = useSelector( state => state.subredditSubscriber)\n  const dispatch= useDispatch();\n\n  //fetch newsfeed data from reddit. get from either homepage or selected subreddit\n  const fetchSubreddits = async (query = '') => {\n\n    try {\n\n    if (!state.searchQuery) {\n      return\n    }\n    window.scrollTo(0, 0);\n\n    dispatch({\n      type: 'subredditSubscriber/changeIsLoading',\n      payload: true,\n    })\n\n    let response;\n\n    try {\n      response = await fetch('https://www.reddit.com/search/.json?q=' + state.searchQuery + '&type=sr%2Cuser' + query);\n    } catch {\n      dispatch({\n        type: 'subredditSubscriber/changeIsLoading',\n        payload: false,\n      })\n      alert('Error: Unable to access reddit servers using URL provided');\n      return;\n    }\n\n    const responseJSON = await response.json();\n\n    const subreddits = responseJSON.data.children;\n    const before = responseJSON.data.before;\n    const after = responseJSON.data.after;\n\n    const payload = {subreddits: [], after: after, before: before};\n\n    let counter = 0;\n\n    for (let subreddit of subreddits) {\n\n      //if name does not exist, the search result is a user and should not be added to array\n      if(subreddit. data.display_name_prefixed) {\n        payload.subreddits[counter] = {\n          name: subreddit.data.display_name_prefixed,\n          numOfSubscribers: subreddit.data.subscribers,\n        }\n      } else {\n        counter--\n      }\n\n      //some subreddits are private so num of subscribers not available\n\n      if (!subreddit.data.subscribers) {\n        payload.subreddits[counter].numOfSubscribers = 'Private'\n      }\n\n      counter++;\n    }\n\n    dispatch({\n      type: 'subredditSubscriber/changeIsLoading',\n      payload: false,\n    })\n\n    // dispatch action to reload\n    dispatch({\n      type: 'subredditSubscriber/loadSubreddits',\n      payload: payload,\n    });\n\n  } catch {\n    dispatch({\n      type: 'subredditSubscriber/changeIsLoading',\n      payload: false,\n    })\n    alert('Error: Unable to read data from reddit servers')\n  }\n\n  }\n\n  //only load results on mount or if search has changed\n  useEffect(() => {\n    dispatch({\n      type: 'subredditSubscriber/changePageNumber',\n      payload: 1,\n    });\n    fetchSubreddits();\n  }, [state.searchQuery]);\n\n  const handleClickAfter = () => {\n    if (state.isLoading || state.searchQuery === '') {\n      return;\n    }\n\n\n    fetchSubreddits('&after=' + state.after + '&count=' + (state.pageNumber * 25));\n    dispatch({\n      type: 'subredditSubscriber/changePageNumber',\n      payload: state.pageNumber + 1,\n    });\n  }\n\n  const handleClickBefore = () => {\n    if (state.isLoading) {\n      return;\n    }\n\n    fetchSubreddits('&before=' + state.before + '&count=' + ((state.pageNumber - 1)  * 25));\n\n    dispatch({\n      type: 'subredditSubscriber/changePageNumber',\n      payload: state.pageNumber - 1,\n    });\n  }\n\n  return(\n    <div className={(state.isToggle) ? \"NewsFeed toggleOn\" : \"NewsFeed\"}>\n      <h1>Subreddit Subscriber</h1>\n      <SearchBar className=\"SearchBar\" location='subredditSubscriber' placeholder=\"Search for a subreddit\" />\n      <div className={(!state.searchQuery || !state.after) ? 'hidden' : 'page'}>\n      {(state.pageNumber !== 1) ? <button type=\"button\" onClick={handleClickBefore} >&#60;</button> : <p></p>}\n        <p>Page {state.pageNumber}</p>\n        <button type=\"button\" onClick={handleClickAfter} >&#62;</button>\n      </div>\n      {state.subreddits.map( subreddit => {\n        return <Subreddit className=\"PostTitle\"\n                          key={subreddit.name}\n                          name={subreddit.name}\n                          numOfSubscribers={subreddit.numOfSubscribers}\n                          subredditClass={(state.isLoading) ? 'hidden' : 'Subreddit'}\n        />\n      })}\n      <div className={(state.isLoading || !state.searchQuery || !state.after) ? 'hidden' : 'page'}>\n      {(state.pageNumber !== 1) ? <button type=\"button\" onClick={handleClickBefore} >&#60;</button> : <p></p>}\n        <p>Page {state.pageNumber}</p>\n        <button type=\"button\" onClick={handleClickAfter} >&#62;</button>\n      </div>\n      <p className={(!state.isLoading) ? 'hidden' : 'loading'}>Loading...</p>\n      <p className={(!state.subreddits.length && !state.isLoading) ? 'loading' : 'hidden'}>No results found</p>\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nexport const Comment = ({ body, commentLevel, user, votes, replies, hidden}) => {\n\n  const [hiddenChildren, setHiddenChildren] = useState(true)\n\n  // if reply is hidden, it's children will be hidden once the reply is unhidden\n  if (!hiddenChildren && hidden) {\n    setHiddenChildren(true);\n  }\n\n  const repliesToggle = (hiddenChildren) ? 'Show replies' : 'Hide replies'\n\n  const widthPercent = (100 - (commentLevel * 5)) + '%';\n  const marginLeft = (commentLevel * 5) + '%';\n  const marginTop = commentLevel ? '0px' : '10px';\n\n  // only render child comment if there are comments in the replies array\n  if (!replies || replies.length === 0) {\n    replies = false;\n  }\n\n  //class depends on whether comment is top level, and whether it is currently hidden\n  let commentContainerClass = null;\n  if (!commentLevel) {\n    commentContainerClass = 'commentContainer'\n  }\n\n  if (hidden) {\n    commentContainerClass = 'hidden'\n  }\n\n  const handleClick = () => {setHiddenChildren(!hiddenChildren);}\n\n  // ignore undefined comments\n  if (body !== undefined) {\n  return (\n    <div className={commentContainerClass}>\n      <div className='Comment' style={{width: widthPercent, 'marginLeft': marginLeft, 'marginTop': marginTop}}>\n        <p className=\"commentUser\">{user}</p>\n        <p className=\"commentVotes\">{votes}</p>\n        <ReactMarkdown className=\"commentBody\" source={body} />\n      </div>\n      <p className={'pointerMouse'} style={{'marginLeft': marginLeft}} onClick={handleClick}>{(replies) ? repliesToggle : ''}</p>\n      {(replies) ? replies.map( comment => {\n        return <Comment key={comment.id}\n                        body={comment.body}\n                        commentLevel={comment.commentLevel}\n                        user={'Posted by' + comment.user}\n                        votes={comment.votes}\n                        replies={comment.replies}\n                        hidden={hiddenChildren} />\n      }) : ''}\n    </div>\n  )\n  } else {\n    return null;\n  }\n}","import React, { useEffect } from 'react';\nimport { Comment } from './Comment';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ReactMarkdown from 'react-markdown';\n\n\nexport const PostDetail = () => {\n\n  const state = useSelector( state => state.postDetail);\n  const dispatch = useDispatch();\n\n  const loadPost = async () => {\n\n    try {\n\n    window.scrollTo(0, 0);\n\n    dispatch({\n      type: 'postDetail/changeIsLoading',\n      payload: true,\n    })\n\n    // allows users to go back to previous post if they navigated out of the app during the session\n    let url;\n    if (state.url) {\n      url = state.url\n    } else if (sessionStorage.getItem('url')) {\n      url = sessionStorage.getItem('url');\n    } else {\n      url = '';\n    }\n\n    let response;\n\n    try {\n      response = await fetch(url);\n    } catch {\n      dispatch({\n        type: 'postDetail/changeIsLoading',\n        payload: false,\n      })\n      alert('Error: Unable to access reddit servers using URL provided');\n      return;\n    }\n\n\n\n\n    const responseJSON = await response.json();\n\n    const postData = responseJSON[0].data.children[0].data;\n\n    const post = {\n      title: postData.title,\n      user: 'Posted by ' + postData.author,\n      body: postData.selftext.replaceAll('&gt;', '>',).replaceAll('&amp;#x200b;', '').replaceAll('&amp;#x200B;', ''),\n      subreddit: postData.subreddit_name_prefixed,\n    }\n\n    //check to see if there is an image\n    if (postData.preview) {\n      if (postData.preview.images) {\n        post.image = postData.preview.images[0].resolutions[postData.preview.images[0].resolutions.length -1].url.replaceAll('&amp;', '&');\n      }\n    }\n\n    //check to see whether a link should be included\n    if (postData.post_hint === 'link' || postData.post_hint !== 'image' && postData.url_overridden_by_dest) {\n          post.link = postData.url_overridden_by_dest;\n        }\n\n\n    dispatch({\n      type: 'postDetail/loadPost',\n      payload: post,\n    })\n\n    const commentData = responseJSON[1].data.children\n\n    // format array of comment objects - removing most key/value pairs\n    const reduceCommentsArray = (commentsArray, commentLevel) => {\n      return commentsArray.map( comment => {\n\n        // ensure nested comments dont become too skinny to display\n        if (commentLevel > 12) {\n          commentLevel = 12;\n        }\n\n        const commentObject = {\n          user: comment.data.author,\n          votes: comment.data.score,\n          body: comment.data.body,\n          commentLevel: commentLevel,\n          id: comment.data.id,\n        }\n\n        if (commentObject.body) {\n          commentObject.body = commentObject.body.replaceAll('&gt;', '>',).replaceAll('&amp;#x200b;', '').replaceAll('&amp;#x200B;', '');\n        }\n\n        // check to see if comment has replies - if so, format this array of comment objects recursively\n        if (comment.data.replies) {\n\n          // filter out the replies which are not comments\n          const filteredRepliesArray = comment.data.replies.data.children.filter( item => item.kind === 't1');\n\n          const repliesArray = reduceCommentsArray(filteredRepliesArray, commentLevel + 1);\n          commentObject.replies = repliesArray;\n        }\n\n        return commentObject;\n      })\n    }\n\n    const commentsArray = reduceCommentsArray(commentData, 0);\n\n    dispatch({\n      type: 'postDetail/loadComments',\n      payload: commentsArray,\n    })\n\n    dispatch({\n      type: 'postDetail/changeIsLoading',\n      payload: false,\n    })\n\n  } catch {\n    dispatch({\n      type: 'postDetail/changeIsLoading',\n      payload: false,\n    })\n    alert('Error: Unable to read data from reddit servers')\n\n\n  }\n\n  }\n\n\n  useEffect(() => {\n    loadPost();\n    return () => {\n      dispatch({\n        type: 'postDetail/resetSlice',\n      });\n    };\n  }, [])\n\n  return(\n    <div className={(state.isToggle) ? \"PostDetail toggleOn\" : \"PostDetail\"} >\n      <p className={(!state.isLoading) ? 'hidden' : 'loading'}>Loading...</p>\n      <h1 className=\"postDetailSubredditTitle\">{state.post.subreddit}</h1>\n      <h1>{state.post.title}</h1>\n      <p className=\"user\">{state.post.user}</p>\n      <a href={state.post.link} className=\"postlink\">{state.post.link}</a>\n      <img src={state.post.image}></img>\n      <ReactMarkdown className={(state.post.body) ? \"body\" : \"body hidden\"} source={state.post.body} />\n      <h1 className={(state.isLoading) ? 'hidden' : ''}id=\"commentsHeading\">{(state.comments.length === 0) ? 'No comments posted' : 'Comments'}</h1>\n      {state.comments.map( comment => {\n        return <Comment key={comment.id}\n                        body={comment.body}\n                        commentLevel={comment.commentLevel}\n                        user={'Posted by' + comment.user}\n                        votes={comment.votes}\n                        replies={comment.replies}\n                        hidden={false}\n                         />\n      })}\n    </div>\n  )\n}","import { createSlice } from '@reduxjs/toolkit';\n\nconst options = {\n  name: 'newsFeed',\n  initialState: {\n    searchTerm: '',\n    posts: [],\n    pageNumber: 1,\n    after: '',\n    before: '',\n    isLoading: false,\n    isSearching: false,\n    url: 'https://www.reddit.com',\n    activeSubreddit: 'Homepage',\n    isToggle: false,\n  },\n  reducers: {\n    loadPosts: (state, action) => {\n      state.posts = action.payload.posts;\n      state.after = action.payload.after;\n      state.before = action.payload.before;\n    },\n    changePageNumber: (state, action) => {\n      state.pageNumber = action.payload;\n    },\n    changeIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    updateUrl: (state, action) => {\n      state.url = action.payload;\n    },\n    changeIsSearching: (state, action) => {\n      state.isSearching = action.payload;\n    },\n    changeActiveSubreddit: (state, action) => {\n      state.activeSubreddit = action.payload;\n    },\n    toggle: (state, action) => {\n      state.isToggle = !state.isToggle;\n    },\n    toggleOff: (state, action) => {\n      state.isToggle = false;\n    },\n    clearPosts: (state, action) => {\n      state.posts = action.payload;\n    },\n  }\n}\n\nconst newsFeedSlice = createSlice(options);\n\nexport const { loadPosts } = newsFeedSlice.actions;\nexport default newsFeedSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nconst options = {\n  name: 'subredditSubscriber',\n  initialState: {\n    searchQuery: '',\n    subreddits: [],\n    isLoading: false,\n    pageNumber: 1,\n    before: '',\n    after: '',\n    isToggle: false,\n  },\n  reducers: {\n    loadSubreddits: (state, action) => {\n      state.subreddits = action.payload.subreddits;\n      state.after = action.payload.after;\n      state.before = action.payload.before;\n    },\n    changeIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    changeSearchQuery: (state, action) => {\n      state.searchQuery = action.payload;\n    },\n    changePageNumber: (state, action) => {\n      state.pageNumber = action.payload;\n    },\n    toggle: (state, action) => {\n      state.isToggle = !state.isToggle;\n    },\n    toggleOff: (state, action) => {\n      state.isToggle = false;\n    },\n  }\n}\n\nconst subredditSubscriberSlice = createSlice(options);\n\nexport const { loadSubreddits } = subredditSubscriberSlice.actions\nexport default subredditSubscriberSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nconst options = {\n  name: 'subredditList',\n  initialState: {\n    subreddits: [\n      {urlName: '', displayName: 'Homepage'},\n      {urlName: 'r/worldnews', displayName: 'r/worldnews'},\n      {urlName: 'r/funny', displayName: 'r/funny'},\n      {urlName: 'r/askreddit', displayName: 'r/askreddit'},\n    ],\n    isToggle: false,\n  },\n  reducers: {\n    addSubreddit: (state, action) => {\n      state.subreddits.push(action.payload);\n    },\n    removeSubreddit: (state, action) => {\n      state.subreddits = state.subreddits.filter( subreddit => subreddit.urlName !== action.payload);\n    },\n    toggle: (state, action) => {\n      state.isToggle = !state.isToggle;\n    },\n    toggleOff: (state, action) => {\n      state.isToggle = false;\n    },\n  }\n}\n\nconst subredditListSlice = createSlice(options);\n\nexport const { addSubreddit } = subredditListSlice.actions;\nexport default subredditListSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nconst options = {\n  name: 'postDetail',\n  initialState: {\n    url: '',\n    isLoading: false,\n    post: {\n      title: '',\n      user: '',\n      body: '',\n      image: '',\n      link: '',\n      subreddit: '',\n    },\n    comments: [],\n    isToggle: false,\n  },\n  reducers: {\n    loadPost: (state, action) => {\n      state.post = action.payload;\n    },\n    loadComments: (state, action) => {\n      state.comments = action.payload;\n    },\n    updateUrl: (state, action) => {\n      state.url = action.payload;\n    },\n    changeIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    resetSlice: (state, action) => {\n      state.post = {};\n      state.comments = [];\n    },\n    toggle: (state, action) => {\n      state.isToggle = !state.isToggle;\n    },\n  }\n}\n\nconst postDetailSlice = createSlice(options);\n\nexport const { loadPost } = postDetailSlice.actions;\nexport default postDetailSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\nimport newsFeedReducer from './features/newsfeed/newsFeedSlice';\nimport subredditSubscriberReducer from './features/newsfeed/subredditSubscriberSlice';\nimport subredditListReducer from './features/subredditlist/subredditListSlice';\nimport postDetailReducer from './features/postdetail/postDetailSlice';\n\nexport default configureStore({\n  reducer: {\n    newsFeed: newsFeedReducer,\n    subredditSubscriber: subredditSubscriberReducer,\n    subredditList: subredditListReducer,\n    postDetail: postDetailReducer,\n  }\n})\n\n\n","import './App.css';\nimport React from 'react';\nimport { Header } from './features/Header';\nimport { SubredditList } from './features/subredditlist/SubredditList';\nimport { NewsFeed } from './features/newsfeed/NewsFeed';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { SubredditSubscriber } from './features/newsfeed/SubredditSubscriber';\nimport { PostDetail } from './features/postdetail/PostDetail';\nimport store from './store';\nimport { useSelector } from 'react-redux';\n\nfunction App() {\n\n  const handleClick = () => {\n    store.dispatch({\n      type: 'subredditList/toggle',\n    })\n    store.dispatch({\n      type: 'subredditSubscriber/toggle',\n    })\n    store.dispatch({\n      type: 'newsFeed/toggle',\n    })\n    store.dispatch({\n      type: 'postDetail/toggle',\n    })\n  }\n\n  const state = useSelector( state => state);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <header>\n          <Header />\n        </header>\n        <main>\n          <input type=\"image\" className=\"toggleButton\" onClick={handleClick} src={(store.getState().subredditList.isToggle) ? \"iconfinder_Close_Icon_Dark_1398917.png\" : \"iconfinder_magnifying-glass-zoom-in-plus_3643761.png\"} />\n          <SubredditList className=\"SubredditList\" />\n          <Route path='/' exact component={NewsFeed} />\n          <Route path='/subredditsubscriber' exact component={SubredditSubscriber} />\n          <Route path='/postdetail' exact component={PostDetail} />\n        </main>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './reset.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}